webpackJsonp([1],[,,,,,,,,,,function(t,e,i){"use strict";var a=i(66),n=i.n(a),s=i(67),o=i.n(s),r=i(112),c=i.n(r),l=i(12),u=i(127),d=i.n(u),m=i(50),f=i(51);i.d(e,"b",function(){return p}),i.d(e,"c",function(){return h}),i.d(e,"a",function(){return _}),l.a.use(d.a);var v=function(){function t(){n()(this,t)}return o()(t,[{key:"construct",value:function(){}},{key:"requestGet",value:function(t,e){return new c.a(function(i,a){l.a.http.get(t,{params:e}).then(function(t){0==t.data.code?i(t.data):a(t.data)},function(t){a(t.data)}).catch(function(t){console.log("请求失败")})})}},{key:"requestPost",value:function(t,e){return new c.a(function(i,a){l.a.http.post(t,{params:e}).then(function(t){0==t.data.code?i(t.data):a(t.data)},function(t){a(t.data)}).catch(function(t){console.log("请求失败")})})}}]),t}(),p=new v,h=m.a,_=f.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){i(105);var a=i(2)(i(54),i(122),null,null);t.exports=a.exports},,function(t,e,i){"use strict";var a=i(12),n=function(t){return t.substr(0,10)},s=function(t){var e=new Date,i=new Date(t),a=e.getTime()-i.getTime();return Math.ceil(a/6e4)<60?Math.ceil(a/6e4)+"分钟前":Math.ceil(a/36e5)<24?Math.ceil(a/36e5)+"小时前":Math.ceil(a/864e5)<30?Math.ceil(a/864e5)+"天前":Math.ceil(a/2592e6)<12?Math.ceil(a/2592e6)+"月前":t};a.a.filter("dateParse",n),a.a.filter("dateMoment",s)},function(t,e,i){"use strict";var a=i(12),n=i(128),s=i(134),o=i.n(s),r=i(133),c=i.n(r),l=i(135),u=i.n(l),d=i(132),m=i.n(d);a.a.use(n.a);var f=[{path:"/",name:"welcome",component:m.a},{path:"/article-list",name:"article.list",component:o.a},{path:"/article-detail",name:"article.detail",component:c.a},{path:"/article-write-comment",name:"article.writeComment",component:u.a}],v=new n.a({routes:f});e.a=v},,function(t,e,i){i(107),i(106);var a=i(2)(i(56),i(123),null,null);t.exports=a.exports},,function(t,e,i){"use strict";var a="/",n=!1;window.location.hostname.indexOf("localhost")>-1?(a="/",n=!0):a="/",e.a={article:{detail:a+"article/getArticle/0/1",list:a+"article/getArticle/0/1"},baseUrl:a,TEST:n}},function(t,e,i){"use strict";e.a=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(12),n=i(48),s=i.n(n),o=i(46),r=i(47),c=(i(45),i(10));a.a.use(r.a),window.userId="",a.a.config.productionTip=!1,o.a.beforeEach(function(t,e,a){if(""===window.userId||"/"==t.path){var n,s,o=i.i(c.a)("type");try{n=o.split("_")[0],s=o.split("_")[1]}catch(t){n="",s=""}var r="",l=i.i(c.a)("code"),u="",d="";switch(n){case"article-list":d="article.list",u=s;break;case"article-detail":d="article.detail",r=s;break;default:d="welcome"}c.b.requestGet(c.c.baseUrl+"oauth/getCode/"+l).then(function(t){console.log(t),t.data?window.userId=t.data.id:window.userId=0,a({name:d,query:{itemid:u,id:r,userId:window.userId}})},function(t){console.log("失败")})}else a()}),new a.a({el:"#app",router:o.a,template:"<App/>",components:{App:s.a}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(131),n=i.n(a);e.default={components:{XDialog:n.a},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"}},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(t){this.showValue=t},showValue:function(t){this.$emit("input",t)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{showLoading:{type:Boolean,default:!0},tip:String,backgroundColor:String},methods:{getStyle:function(){if(!this.showLoading&&this.tip)return{"background-color":this.backgroundColor}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},hideOnBlur:Boolean,scroll:{type:Boolean,default:!0}},created:function(){void 0!==this.value&&(this.currentValue=this.value)},watch:{value:{handler:function(t){this.currentValue=t},immediate:!0},currentValue:function(t){this.$emit(t?"on-show":"on-hide"),this.$emit("input",t)}},data:function(){return{currentValue:!1}},methods:{onTouchMove:function(t){!this.scroll&&t.preventDefault()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(10);window.userInfoId=-1,e.default={created:function(){var t,e,n=this,s=4,o=i.i(a.a)("type");try{t=o.split("_")[0],e=o.split("_")[1]}catch(i){t="",e=""}var r="",c=i.i(a.a)("code"),l="",u="";switch(t){case"article-list":u="article.list",l=e;break;case"article-detail":u="article.detail",r=e;break;default:u="welcome"}console.log(u,t,e,c),-1==window.userInfoId?a.b.requestGet(a.c.baseUrl+"oauth/getCode/"+c).then(function(t){console.log(t),t.data&&(s=t.data.id,window.userInfoId=s,n.$router.push({name:u,query:{itemid:l,id:r,userId:s}}))},function(t){console.log("失败")}):(window.history.go(-1),window.close())}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(62),n=i.n(a),s=i(10),o=i(43),r=i.n(o);e.default={data:function(){return{articleId:0,articleInfo:{},isShowPage:!1,comments:[],commentParams:{pageSize:0,pageNum:0},isLoadComment:!1,isMoreComment:!0,code:"",praiseCount:0,userId:""}},components:{LoadMore:r.a},methods:{getComment:function(){var t=this;t.isLoadComment=!0,s.b.requestGet(s.c.baseUrl+"judge/getJudge/"+t.articleId+"/"+t.commentParams.pageNum).then(function(e){if(0!=e.data.length){var i=!0,a=!1,s=void 0;try{for(var o,r=n()(e.data);!(i=(o=r.next()).done);i=!0){var c=o.value;t.comments.push(c)}}catch(t){a=!0,s=t}finally{try{!i&&r.return&&r.return()}finally{if(a)throw s}}t.isMoreComment=!0}else t.isMoreComment=!1;t.isLoadComment=!1},function(e){t.isMoreComment=!1,t.isLoadComment=!1})},getMoreComment:function(){var t=this;t.commentParams.pageNum+=1,t.getComment()},operPraise:function(){var t=this;t.articleInfo.attach.praise?s.b.requestGet(s.c.baseUrl+"judge/praiseCancle/"+t.articleId+"/"+t.userId).then(function(e){t.articleInfo.attach.praise=!1,t.praiseCount=t.praiseCount-1},function(t){console.log(t.msg)}):s.b.requestGet(s.c.baseUrl+"judge/praise/"+t.articleId+"/"+t.userId).then(function(e){t.articleInfo.attach.praise=!0,t.praiseCount=t.praiseCount+1},function(t){console.log(t.msg)})}},created:function(){var t=this;t.articleId=this.$route.query.id,t.code=this.$route.query.code,t.userId=this.$route.query.userId,s.b.requestGet(s.c.baseUrl+"article/getArticleDetail/"+t.articleId+"/"+t.userId).then(function(e){t.articleInfo=e.data,t.getComment(),t.isShowPage=!0,t.praiseCount=parseInt(t.articleInfo.attach.praiseCount),t.userId=t.articleInfo.attach.userId},function(t){console.log("服务器错误")}).catch(function(t){console.log(t)})},computed:{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(10),n=i(43),s=i.n(n);e.default={components:{LoadMore:s.a},data:function(){return{dataList:[],paramList:{pageNum:0,pageSize:8,itemid:""},isLoad:!1,isNext:!0,code:"",origin:"",userId:0}},created:function(){var t=this;t.paramList.itemid=this.$route.query.itemid,t.code=this.$route.query.code,t.userId=this.$route.query.userId,t.origin=window.location.origin,t.getArticleList()},methods:{getArticleList:function(){var t=this,e=a.c.baseUrl+"article/getArticle/"+t.paramList.pageNum+"/"+t.paramList.pageSize+"/"+t.paramList.itemid;a.b.requestGet(e).then(function(e){0!=e.data.length?(t.dataList.push(e.data),t.isNext=!0):t.isNext=!1,t.isLoad=!1},function(e){console.log("数据错误"),t.isNext=!1,t.isLoad=!1})},getArticleListMore:function(){var t=this;t.paramList.pageNum=t.paramList.pageNum+1,t.getArticleList(),t.isLoad=!0}},computed:{},watch:{},filters:{listTime:function(t){function e(t){var e=new Date(t);return{y:e.getFullYear(),m:e.getMonth()+1,d:e.getDate(),h:e.getHours(),min:e.getMinutes(),w:e.getDay()}}function i(t){var e=t.toString();return 2==e.length?e:"0"+e}function a(t){return c.h-12<0?"上午 "+c.h:c.h-12==0?"中午 "+c.h:"下午 "+(c.h-12)}var n=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],s=new Date,o=new Date(t),r=e(s.getTime()),c=e(o.getTime());return s.getTime()-o.getTime()<1728e5?r.d-c.d==0?a(c.h)+":"+i(c.min):r.d-c.d==1?"昨天 "+a(c.h)+":"+i(c.min):n[c.w]+a(c.h)+":"+i(c.min):s.getTime()-o.getTime()<5184e5?n[c.w]+a(c.h)+":"+i(c.min):c.y+"年"+c.m+"月"+c.d+"日  "+a(c.h)+":"+i(c.min)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(10);e.default={data:function(){return{commentContent:"",articleTitle:"",articleId:0,isEmpty:!0,userId:""}},components:{},methods:{saveComment:function(){var t=this,e=this;""!=e.commentContent.trim()&&a.b.requestGet(a.c.baseUrl+"judge/addJudge",{content:e.commentContent,articleid:e.articleId,userid:e.userId}).then(function(i){t.$router.push({name:"article.detail",query:{id:e.articleId,userId:e.userId}})},function(t){console.log("服务器错误")})},judEmpty:function(){var t=this;""==t.commentContent.trim()?t.isEmpty=!0:t.isEmpty=!1}},created:function(){var t=this;t.articleTitle=t.$route.query.title,t.articleId=t.$route.query.articleId,t.userId=t.$route.query.userId},computed:{},watch:{}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShowPage?i("div",{attrs:{id:"article-detail"}},[t.articleInfo?i("div",{staticClass:"atc-container"},[i("h2",{staticClass:"atc-title"},[t._v(t._s(t.articleInfo.title))]),t._v(" "),i("div",{staticClass:"tm-con"},[i("span",{staticClass:"g-tx"},[t._v(t._s(t._f("dateParse")(t.articleInfo.createTime)))]),t._v(" "),i("span",{staticClass:"g-tx"},[t._v(t._s(t.articleInfo.itemName))]),t._v(" "),i("a",{staticClass:"l-tx",attrs:{href:"javascript:;"}},[t._v(t._s(t.articleInfo.createUserName))])]),t._v(" "),i("div",{staticClass:"rich-content",domProps:{innerHTML:t._s(t.articleInfo.content)}}),t._v(" "),i("div",{staticClass:"atc-data"},[i("span",{staticClass:"g-tx"},[t._v("阅读 "+t._s(t.articleInfo.readCount))]),t._v(" "),i("span",{staticClass:"g-tx",on:{click:function(e){t.operPraise()}}},[i("i",{staticClass:"fa",class:t.articleInfo.attach.praise?"fa-thumbs-up":"fa-thumbs-o-up"}),t._v(" "+t._s(t.praiseCount)+"\n\t\t\t")]),t._v(" "),i("a",{staticClass:"t-su"},[t._v("投诉")])])]):t._e(),t._v(" "),i("div",{staticClass:"commnet"},[t._m(0),t._v(" "),i("div",{staticClass:"w-comment"},[i("router-link",{attrs:{to:{name:"article.writeComment",query:{articleId:t.articleId,title:t.articleInfo.title,userId:t.userId}}}},[t._v("写留言 "),i("i",{staticClass:"fa fa-pencil"})])],1),t._v(" "),i("ul",t._l(t.comments,function(e){return i("li",{staticClass:"com-item"},[i("div",{staticClass:"us-con"},[i("img",{attrs:{src:e.imagePath}})]),t._v(" "),i("div",{staticClass:"msg"},[i("div",{staticClass:"m-top"},[i("span",{staticClass:"u-name"},[t._v(t._s(e.userName))])]),t._v(" "),i("div",{staticClass:"m-con",domProps:{innerHTML:t._s(e.content)}}),t._v(" "),i("div",{staticClass:"m-btm"},[i("span",[t._v(t._s(t._f("dateMoment")(e.createTime)))])])])])})),t._v(" "),!t.isLoadComment&&t.isMoreComment?i("div",{staticClass:"load",on:{click:function(e){t.getMoreComment()}}},[t._v("点击加载更多")]):t._e(),t._v(" "),t.isMoreComment?t._e():i("div",{staticClass:"load"},[t._v("没有更多了")]),t._v(" "),t.isLoadComment?i("load-more",{attrs:{tip:"正在加载……"}}):t._e()],1)]):t._e()},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-title"},[i("p",{staticClass:"span"},[t._v("精选留言")]),t._v(" "),i("p",{staticClass:"line"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-alert"},[i("x-dialog",{attrs:{"mask-transition":t.maskTransition,"dialog-transition":t.dialogTransition},on:{"on-hide":function(e){t.$emit("on-hide")},"on-show":function(e){t.$emit("on-show")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[i("div",{staticClass:"weui-dialog__hd"},[i("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]),t._v(" "),i("div",{staticClass:"weui-dialog__bd"},[t._t("default",[i("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t._v(" "),i("div",{staticClass:"weui-dialog__ft"},[i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t._onHide}},[t._v(t._s(t.buttonText||"确定"))])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"article-write-comment"}},[i("div",{staticClass:"atc-title"},[t._v("\n\t\t"+t._s(t.articleTitle)+"\n\t")]),t._v(" "),i("div",{staticClass:"write"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],attrs:{placeholder:"留言将由公众号筛选后显示，对所有人可见",maxlength:"50"},domProps:{value:t.commentContent},on:{input:[function(e){e.target.composing||(t.commentContent=e.target.value)},function(e){t.judEmpty()}]}})]),t._v(" "),i("div",{staticClass:"send-btn"},[i("button",{class:{gray:t.isEmpty},attrs:{type:"button"},on:{click:function(e){t.saveComment()}}},[t._v("提交")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-loadmore",class:{"weui-loadmore_line":!t.showLoading,"weui-loadmore_dot":!t.showLoading&&!t.tip}},[t.showLoading?i("i",{staticClass:"weui-loading"}):t._e(),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.tip||!t.showLoading,expression:"tip || !showLoading"}],staticClass:"weui-loadmore__tips",style:t.getStyle()},[t._v(t._s(t.tip))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-x-dialog",on:{touchmove:t.onTouchMove}},[i("transition",{attrs:{name:t.maskTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-mask",on:{click:function(e){t.hideOnBlur&&(t.currentValue=!1)}}})]),t._v(" "),i("transition",{attrs:{name:t.dialogTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-dialog"},[t._t("default")],2)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.dataList.length>0?i("div",{attrs:{id:"article-list"}},[i("ul",{staticClass:"list"},[t._l(t.dataList,function(e){return[t._l(e,function(e,a){return[0==a?i("li",{staticClass:"li1"},[i("div",{staticClass:"time"},[i("span",{staticClass:"dd"},[t._v(t._s(t._f("listTime")(e.createTime)))])]),t._v(" "),i("router-link",{attrs:{to:{name:"article.detail",query:{id:e.id,userId:t.userId}}}},[i("div",{staticClass:"img-box"},[i("img",{attrs:{src:e.titleImage}}),t._v(" "),i("p",{staticClass:"title"},[t._v(t._s(e.title))])])])],1):t._e(),t._v(" "),0!=a?i("li",{staticClass:"li2"},[i("router-link",{staticClass:"tr",attrs:{to:{name:"article.detail",query:{id:e.id,userId:t.userId}}}},[i("table",[i("tr",[i("td",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("td",[i("div",{staticClass:"img-box"},[i("img",{attrs:{src:e.titleImage}})])])])])])],1):t._e()]})]})],2),t._v(" "),!t.isLoad&&t.isNext?i("div",{staticClass:"load",on:{click:function(e){t.getArticleListMore()}}},[t._v("点击加载更多")]):t._e(),t._v(" "),t.isNext?t._e():i("div",{staticClass:"load"},[t._v("没有更多了")]),t._v(" "),t.isLoad?i("load-more",{attrs:{tip:"正在加载……"}}):t._e()],1):t._e()},staticRenderFns:[]}},,,,function(t,e,i){i(103);var a=i(2)(i(53),i(120),null,null);t.exports=a.exports},function(t,e,i){i(108);var a=i(2)(i(55),i(124),null,null);t.exports=a.exports},function(t,e,i){i(109);var a=i(2)(i(57),i(125),null,null);t.exports=a.exports},function(t,e,i){i(102);var a=i(2)(i(58),i(119),null,null);t.exports=a.exports},function(t,e,i){i(110);var a=i(2)(i(59),i(126),null,null);t.exports=a.exports},function(t,e,i){i(104);var a=i(2)(i(60),i(121),null,null);t.exports=a.exports},function(t,e){}],[52]);
//# sourceMappingURL=app.193b7af2259b6d93ec43.js.map